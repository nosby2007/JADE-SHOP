<div>
    <h2>Liste des Patients</h2>
    <button mat-raised-button color="primary" [routerLink]="['/addPatient']"  style="cursor: pointer; text-decoration:underline; color:blue">Nouveau Patient</button>
    <table class="patient-table">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let patient of patients">
          <td>{{ patient.name }}</td>
          <td>
            <button mat-button color="primary" (click)="loadPrescriptionsForPatient(patient.id, patient.name)">
              Voir les Prescriptions
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <div *ngIf="selectedPatientPrescriptions.length > 0">
    <h3>Prescriptions pour {{ selectedPatientName }}</h3>
    <mat-table [dataSource]="selectedPatientPrescriptions" class="mat-elevation-z8">
      <!-- Colonne Date -->
      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.date *100 | date:'short' }} </mat-cell>
      </ng-container>
  
      <!-- Colonne Type -->
      <ng-container matColumnDef="time">
        <mat-header-cell *matHeaderCellDef> heure prescription </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.time }} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="type">
        <mat-header-cell *matHeaderCellDef> Type </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.type }} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="prescriber">
        <mat-header-cell *matHeaderCellDef> Prescripteur </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.prescriber }} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="routine">
        <mat-header-cell *matHeaderCellDef> Routine </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.routine }} </mat-cell>
      </ng-container>
  
      <!-- Colonne Détails -->
      <ng-container matColumnDef="route">
        <mat-header-cell *matHeaderCellDef> Route Administration </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.route}} </mat-cell>
      </ng-container>
      <ng-container matColumnDef="method">
        <mat-header-cell *matHeaderCellDef> Methode </mat-header-cell>
        <mat-cell *matCellDef="let prescription"> {{ prescription.method }} </mat-cell>
      </ng-container>
  
      <!-- En-tête et Lignes -->
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
  </div>
  