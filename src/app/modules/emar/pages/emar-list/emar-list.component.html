<div class="toolbar">
  <h2>eMAR — Medications</h2>
  <span class="spacer"></span>
  <button mat-raised-button color="primary" (click)="openCreateMed()">
    <mat-icon>add</mat-icon> New Med
  </button>
</div>

<table mat-table mat-table [dataSource]="(meds$ | async) ?? []" class="mat-elevation-z2 full">
  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Medication</th>
    <td mat-cell *matCellDef="let r">{{ r?.name || '—' }}</td>
  </ng-container>

  <ng-container matColumnDef="dose">
    <th mat-header-cell *matHeaderCellDef>Dose</th>
    <td mat-cell *matCellDef="let r">{{ r?.dose || '—' }}</td>
  </ng-container>

  <ng-container matColumnDef="route">
    <th mat-header-cell *matHeaderCellDef>Route</th>
    <td mat-cell *matCellDef="let r">{{ r?.route || '—' }}</td>
  </ng-container>

  <ng-container matColumnDef="freq">
    <th mat-header-cell *matHeaderCellDef>Freq</th>
    <td mat-cell *matCellDef="let r">{{ r?.frequency || '—' }}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef class="right">Actions</th>
    <td mat-cell *matCellDef="let r" class="right">
      <button mat-button (click)="openAdminDialog(r)">Administer</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayed"></tr>
  <tr mat-row *matRowDef="let row; columns: displayed"></tr>
</table>
